<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="../bower_components/iron-a11y-keys/iron-a11y-keys.html">
<link rel="import" href="piano-key.html">

<dom-module id="project-home">

  <template>

    <style include="project-common-styles">
      :host {
        margin-top: 100px;
        color: rgba(0, 0, 0, 0.3);
        @apply(--layout-vertical);
        @apply(--layout-center);
      }

      .text {
        margin-top: 100px;
      }
    </style>

    <div class="layout horizontal">
      <piano-key id="a"></piano-key>
      <piano-key id="z"></piano-key>
      <piano-key id="e"></piano-key>
      <piano-key id="r"></piano-key>
      <piano-key id="t"></piano-key>
      <piano-key id="y"></piano-key>
      <piano-key id="u"></piano-key>
    </div>
    <div class="layout horizontal">
      <piano-key id="q"></piano-key>
      <piano-key id="s"></piano-key>
      <piano-key id="d"></piano-key>
      <piano-key id="f"></piano-key>
      <piano-key id="g"></piano-key>
      <piano-key id="h"></piano-key>
      <piano-key id="j"></piano-key>
    </div>

    <div class="text paper-font-body1">Et ceci? Juste un piano. Amusez-vous.</div>

    <iron-a11y-keys keys="a z e r t y u q s d f g h j" target="[[target]]" on-keys-pressed="_updatePressed"></iron-a11y-keys>

  </template>

  <script>

    class ProjectHome extends Polymer.Element {

      static get is() { return 'project-home'; }

      static get properties() { return {

        target: {
          type: Object,
          value: () => {
            return document.body;
          }
        },

        /**
         * Attribut de l'élément qui obtient la valeur via project-app
         *
         * @type {Boolean}
         */
        enabled: {
          type: Boolean,
          notify: true
        }

      }}

      _updatePressed(event) {
        if(this.enabled) {
          // Switch qui depends de la touche du clavier
          switch(event.detail.combo) {
            case "a":
              // Appelle à la méthode _regularTap() de piano-key
              this.$.a._regularTap();
              break;
            case "z":
              this.$.z._regularTap();
              break;
            case "e":
              this.$.e._regularTap();
              break;
            case "r":
              this.$.r._regularTap();
              break;
            case "t":
              this.$.t._regularTap();
              break;
            case "y":
              this.$.y._regularTap();
              break;
            case "u":
              this.$.u._regularTap();
              break;

            case "q":
              this.$.q._regularTap();
              break;
            case "s":
              this.$.s._regularTap();
              break;
            case "d":
              this.$.d._regularTap();
              break;
            case "f":
              this.$.f._regularTap();
              break;
            case "g":
              this.$.g._regularTap();
              break;
            case "h":
              this.$.h._regularTap();
              break;
            case "j":
              this.$.j._regularTap();
              break;
          }
        }
      }
    }

    customElements.define(ProjectHome.is, ProjectHome);

  </script>

</dom-module>
